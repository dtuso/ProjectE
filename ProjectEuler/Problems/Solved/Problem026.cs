using System;
using System.Collections.Generic;
using System.Text;
using ProjectEuler.Helpers;

namespace ProjectEuler.Problems
{

	//A unit fraction contains 1 in the numerator. The decimal representation of the unit fractions with denominators 2 to 10 are given:

	//    1/2	= 	0.5
	//    1/3	= 	0.(3)
	//    1/4	= 	0.25
	//    1/5	= 	0.2
	//    1/6	= 	0.1(6)
	//    1/7	= 	0.(142857)
	//    1/8	= 	0.125
	//    1/9	= 	0.(1)
	//    1/10	= 	0.1

	//Where 0.1(6) means 0.166666..., and has d 1-digit recurring cycle. It can be seen that 1/7 has d 6-digit recurring cycle.

	//Find the value of d < 1000 for which 1/d contains the longest recurring cycle in its decimal fraction part.

	//Start of Main 3/4/2008 12:18:37 PM
	//at   2: lenght   1 repeats 0
	//at   7: lenght   6 repeats 142857
	//at  17: lenght  16 repeats 0588235294117647
	//at  19: lenght  18 repeats 052631578947368421
	//at  23: lenght  22 repeats 0434782608695652173913
	//at  29: lenght  28 repeats 0344827586206896551724137931
	//at  47: lenght  46 repeats 0212765957446808510638297872340425531914893617
	//at  59: lenght  58 repeats 0169491525423728813559322033898305084745762711864406779661
	//at  61: lenght  60 repeats 016393442622950819672131147540983606557377049180327868852459
	//at  97: lenght  96 repeats 010309278350515463917525773195876288659793814432989690721649484536082474226804123711340206185567
	//at 109: lenght 108 repeats 009174311926605504587155963302752293577981651376146788990825688073394495412844036697247706422018348623853211
	//at 113: lenght 112 repeats 0088495575221238938053097345132743362831858407079646017699115044247787610619469026548672566371681415929203539823
	//at 131: lenght 130 repeats 0076335877862595419847328244274809160305343511450381679389312977099236641221374045801526717557251908396946564885496183206106870229
	//at 149: lenght 148 repeats 0067114093959731543624161073825503355704697986577181208053691275167785234899328859060402684563758389261744966442953020134228187919463087248322147651
	//at 167: lenght 166 repeats 0059880239520958083832335329341317365269461077844311377245508982035928143712574850299401197604790419161676646706586826347305389221556886227544910179640718562874251497
	//at 179: lenght 178 repeats 0055865921787709497206703910614525139664804469273743016759776536312849162011173184357541899441340782122905027932960893854748603351955307262569832402234636871508379888268156424581
	//at 181: lenght 180 repeats 005524861878453038674033149171270718232044198895027624309392265193370165745856353591160220994475138121546961325966850828729281767955801104972375690607734806629834254143646408839779
	//at 193: lenght 192 repeats 005181347150259067357512953367875647668393782383419689119170984455958549222797927461139896373056994818652849740932642487046632124352331606217616580310880829015544041450777202072538860103626943
	//at 223: lenght 222 repeats 004484304932735426008968609865470852017937219730941704035874439461883408071748878923766816143497757847533632286995515695067264573991031390134529147982062780269058295964125560538116591928251121076233183856502242152466367713
	//at 229: lenght 228 repeats 004366812227074235807860262008733624454148471615720524017467248908296943231441048034934497816593886462882096069868995633187772925764192139737991266375545851528384279475982532751091703056768558951965065502183406113537117903930131
	//at 233: lenght 232 repeats 0042918454935622317596566523605150214592274678111587982832618025751072961373390557939914163090128755364806866952789699570815450643776824034334763948497854077253218884120171673819742489270386266094420600858369098712446351931330472103
	//at 257: lenght 256 repeats 0038910505836575875486381322957198443579766536964980544747081712062256809338521400778210116731517509727626459143968871595330739299610894941634241245136186770428015564202334630350194552529182879377431906614785992217898832684824902723735408560311284046692607
	//at 263: lenght 262 repeats 0038022813688212927756653992395437262357414448669201520912547528517110266159695817490494296577946768060836501901140684410646387832699619771863117870722433460076045627376425855513307984790874524714828897338403041825095057034220532319391634980988593155893536121673
	//at 269: lenght 268 repeats 0037174721189591078066914498141263940520446096654275092936802973977695167286245353159851301115241635687732342007434944237918215613382899628252788104089219330855018587360594795539033457249070631970260223048327137546468401486988847583643122676579925650557620817843866171
	//at 289: lenght 272 repeats 00346020761245674740484429065743944636678200692041522491349480968858131487889273356401384083044982698961937716262975778546712802768166089965397923875432525951557093425605536332179930795847750865051903114186851211072664359861591695501730103806228373702422145328719723183391
	//at 313: lenght 312 repeats 003194888178913738019169329073482428115015974440894568690095846645367412140575079872204472843450479233226837060702875399361022364217252396166134185303514376996805111821086261980830670926517571884984025559105431309904153354632587859424920127795527156549520766773162939297124600638977635782747603833865814696485623
	//at 337: lenght 336 repeats 002967359050445103857566765578635014836795252225519287833827893175074183976261127596439169139465875370919881305637982195845697329376854599406528189910979228486646884272997032640949554896142433234421364985163204747774480712166172106824925816023738872403560830860534124629080118694362017804154302670623145400593471810089020771513353115727
	//at 361: lenght 342 repeats 002770083102493074792243767313019390581717451523545706371191135734072022160664819944598337950138504155124653739612188365650969529085872576177285318559556786703601108033240997229916897506925207756232686980609418282548476454293628808864265927977839335180055401662049861495844875346260387811634349030470914127423822714681440443213296398891966759
	//at 367: lenght 366 repeats 002724795640326975476839237057220708446866485013623978201634877384196185286103542234332425068119891008174386920980926430517711171662125340599455040871934604904632152588555858310626702997275204359673024523160762942779291553133514986376021798365122615803814713896457765667574931880108991825613079019073569482288828337874659400544959128065395095367847411444141689373297
	//at 379: lenght 378 repeats 002638522427440633245382585751978891820580474934036939313984168865435356200527704485488126649076517150395778364116094986807387862796833773087071240105540897097625329815303430079155672823218997361477572559366754617414248021108179419525065963060686015831134564643799472295514511873350923482849604221635883905013192612137203166226912928759894459102902374670184696569920844327176781
	//at 383: lenght 382 repeats 0026109660574412532637075718015665796344647519582245430809399477806788511749347258485639686684073107049608355091383812010443864229765013054830287206266318537859007832898172323759791122715404699738903394255874673629242819843342036553524804177545691906005221932114882506527415143603133159268929503916449086161879895561357702349869451697127937336814621409921671018276762402088772845953
	//at 389: lenght 388 repeats 0025706940874035989717223650385604113110539845758354755784061696658097686375321336760925449871465295629820051413881748071979434447300771208226221079691516709511568123393316195372750642673521850899742930591259640102827763496143958868894601542416452442159383033419023136246786632390745501285347043701799485861182519280205655526992287917737789203084832904884318766066838046272493573264781491
	//at 419: lenght 418 repeats 0023866348448687350835322195704057279236276849642004773269689737470167064439140811455847255369928400954653937947494033412887828162291169451073985680190930787589498806682577565632458233890214797136038186157517899761336515513126491646778042959427207637231503579952267303102625298329355608591885441527446300715990453460620525059665871121718377088305489260143198090692124105011933174224343675417661097852028639618138424821
	//at 433: lenght 432 repeats 002309468822170900692840646651270207852193995381062355658198614318706697459584295612009237875288683602771362586605080831408775981524249422632794457274826789838337182448036951501154734411085450346420323325635103926096997690531177829099307159353348729792147806004618937644341801385681293302540415704387990762124711316397228637413394919168591224018475750577367205542725173210161662817551963048498845265588914549653579676674364896073903
	//at 461: lenght 460 repeats 0021691973969631236442516268980477223427331887201735357917570498915401301518438177874186550976138828633405639913232104121475054229934924078091106290672451193058568329718004338394793926247288503253796095444685466377440347071583514099783080260303687635574837310195227765726681127982646420824295010845986984815618221258134490238611713665943600867678958785249457700650759219088937093275488069414316702819956616052060737527114967462039045553145336225596529284164859
	//at 487: lenght 486 repeats 002053388090349075975359342915811088295687885010266940451745379876796714579055441478439425051334702258726899383983572895277207392197125256673511293634496919917864476386036960985626283367556468172484599589322381930184804928131416837782340862422997946611909650924024640657084188911704312114989733059548254620123203285420944558521560574948665297741273100616016427104722792607802874743326488706365503080082135523613963039014373716632443531827515400410677618069815195071868583162217659137577
	//at 491: lenght 490 repeats 0020366598778004073319755600814663951120162932790224032586558044806517311608961303462321792260692464358452138492871690427698574338085539714867617107942973523421588594704684317718940936863543788187372708757637474541751527494908350305498981670061099796334012219959266802443991853360488798370672097759674134419551934826883910386965376782077393075356415478615071283095723014256619144602851323828920570264765784114052953156822810590631364562118126272912423625254582484725050916496945010183299389
	//at 499: lenght 498 repeats 002004008016032064128256513026052104208416833667334669338677354709418837675350701402805611222444889779559118236472945891783567134268537074148296593186372745490981963927855711422845691382765531062124248496993987975951903807615230460921843687374749498997995991983967935871743486973947895791583166332665330661322645290581162324649298597194388777555110220440881763527054108216432865731462925851703406813627254509018036072144288577154308617234468937875751503006012024048096192384769539078156312625250501
	//at 503: lenght 502 repeats 0019880715705765407554671968190854870775347912524850894632206759443339960238568588469184890656063618290258449304174950298210735586481113320079522862823061630218687872763419483101391650099403578528827037773359840954274353876739562624254473161033797216699801192842942345924453280318091451292246520874751491053677932405566600397614314115308151093439363817097415506958250497017892644135188866799204771371769383697813121272365805168986083499005964214711729622266401590457256461232604373757455268389662027833
	//at 509: lenght 508 repeats 0019646365422396856581532416502946954813359528487229862475442043222003929273084479371316306483300589390962671905697445972495088408644400785854616895874263261296660117878192534381139489194499017681728880157170923379174852652259332023575638506876227897838899803536345776031434184675834970530451866404715127701375245579567779960707269155206286836935166994106090373280943025540275049115913555992141453831041257367387033398821218074656188605108055009823182711198428290766208251473477406679764243614931237721021611
	//at 541: lenght 540 repeats 001848428835489833641404805914972273567467652495378927911275415896487985212569316081330868761552680221811460258780036968576709796672828096118299445471349353049907578558225508317929759704251386321626617375231053604436229205175600739371534195933456561922365988909426987060998151571164510166358595194085027726432532347504621072088724584103512014787430683918669131238447319778188539741219963031423290203327171903881700554528650646950092421441774491682070240295748613678373382624768946395563770794824399260628465804066543438077634011090573012939
	//at 571: lenght 570 repeats 001751313485113835376532399299474605954465849387040280210157618213660245183887915936952714535901926444833625218914185639229422066549912434325744308231173380035026269702276707530647985989492119089316987740805604203152364273204903677758318739054290718038528896672504378283712784588441330998248686514886164623467600700525394045534150612959719789842381786339754816112084063047285464098073555166374781085814360770577933450087565674255691768826619964973730297723292469352014010507880910683012259194395796847635726795096322241681260945709281961471103327495621716287215411558669
	//at 577: lenght 576 repeats 001733102253032928942807625649913344887348353552859618717504332755632582322357019064124783362218370883882149046793760831889081455805892547660311958405545927209705372616984402079722703639514731369150779896013864818024263431542461005199306759098786828422876949740034662045060658578856152512998266897746967071057192374350086655112651646447140381282495667244367417677642980935875216637781629116117850953206239168110918544194107452339688041594454072790294627383015597920277296360485268630849220103986135181975736568457538994800693240901213171577123050259965337954939341421143847487
	//at 593: lenght 592 repeats 0016863406408094435075885328836424957841483979763912310286677908937605396290050590219224283305227655986509274873524451939291736930860033726812816188870151770657672849915682967959527824620573355817875210792580101180438448566610455311973018549747048903878583473861720067453625632377740303541315345699831365935919055649241146711635750421585160202360876897133220910623946037099494097807757166947723440134907251264755480607082630691399662731871838111298482293423271500843170320404721753794266441821247892074198988195615514333895446880269814502529510961214165261382799325463743676222596964586846543
	//at 619: lenght 618 repeats 001615508885298869143780290791599353796445880452342487883683360258481421647819063004846526655896607431340872374798061389337641357027463651050080775444264943457189014539579967689822294022617124394184168012924071082390953150242326332794830371567043618739903069466882067851373182552504038772213247172859450726978998384491114701130856219709208400646203554119547657512116316639741518578352180936995153473344103392568659127625201938610662358642972536348949919224555735056542810985460420032310177705977382875605815831987075928917609046849757673667205169628432956381260096930533117932148626817447495961227786752827140549273021
	//at 647: lenght 646 repeats 0015455950540958268933539412673879443585780525502318392581143740340030911901081916537867078825347758887171561051004636785162287480680061823802163833075734157650695517774343122102009273570324574961360123647604327666151468315301391035548686244204018547140649149922720247295208655332302936630602782071097372488408037094281298299845440494590417310664605873261205564142194744976816074188562596599690880989180834621329211746522411128284389489953632148377125193199381761978361669242658423493044822256568778979907264296754250386398763523956723338485316846986089644513137557959814528593508500772797527047913446676970633693972179289026275115919629057187017
	//at 659: lenght 658 repeats 0015174506828528072837632776934749620637329286798179059180576631259484066767830045523520485584218512898330804248861911987860394537177541729893778452200303490136570561456752655538694992412746585735963581183611532625189681335356600910470409711684370257966616084977238239757207890743550834597875569044006069802731411229135053110773899848254931714719271623672230652503793626707132018209408194233687405159332321699544764795144157814871016691957511380880121396054628224582701062215477996965098634294385432473444613050075872534142640364188163884673748103186646433990895295902883156297420333839150227617602427921092564491654021244309559939301972685887708649468892261
	//at 701: lenght 700 repeats 0014265335235378031383737517831669044222539229671897289586305278174037089871611982881597717546362339514978601997146932952924393723252496433666191155492154065620542082738944365192582025677603423680456490727532097004279600570613409415121255349500713266761768901569186875891583452211126961483594864479315263908701854493580599144079885877318116975748930099857346647646219686162624821683309557774607703281027104136947218259629101283880171184022824536376604850213980028530670470756062767475035663338088445078459343794579172610556348074179743223965763195435092724679029957203994293865905848787446504992867332382310984308131241084165477888730385164051355206847360912981455064194008559201141226818830242510699
	//at 709: lenght 708 repeats 001410437235543018335684062059238363892806770098730606488011283497884344146685472496473906911142454160789844851904090267983074753173483779971791255289139633286318758815232722143864598025387870239774330042313117066290550070521861777150916784203102961918194640338504936530324400564174894217207334273624823695345557122708039492242595204513399153737658674188998589562764456981664315937940761636107193229901269393511988716502115655853314527503526093088857545839210155148095909732016925246826516220028208744710860366713681241184767277856135401974612129760225669957686882933709449929478138222849083215796897038081805359661495063469675599435825105782792665726375176304654442877291960507757404795486600846262341325811
	//at 727: lenght 726 repeats 001375515818431911966987620357634112792297111416781292984869325997248968363136176066024759284731774415405777166437414030261348005502063273727647867950481430536451169188445667125171939477303988995873452544704264099037138927097661623108665749656121045392022008253094910591471801925722145804676753782668500687757909215955983493810178817056396148555708390646492434662998624484181568088033012379642365887207702888583218707015130674002751031636863823933975240715268225584594222833562585969738651994497936726272352132049518569463548830811554332874828060522696011004126547455295735900962861072902338376891334250343878954607977991746905089408528198074277854195323246217331499312242090784044016506189821182943603851444291609353507565337
	//at 743: lenght 742 repeats 0013458950201884253028263795423956931359353970390309555854643337819650067294751009421265141318977119784656796769851951547779273216689098250336473755047106325706594885598923283983849259757738896366083445491251682368775235531628532974427994616419919246298788694481830417227456258411843876177658142664872139973082099596231493943472409152086137281292059219380888290713324360699865410497981157469717362045760430686406460296096904441453566621803499327052489905787348586810228802153432032301480484522207267833109017496635262449528936742934051144010767160161507402422611036339165545087483176312247644683714670255720053835800807537012113055181695827725437415881561238223418573351278600269179004037685060565275908479138627187079407806191117092866756393
	//at 811: lenght 810 repeats 001233045622688039457459926017262638717632552404438964241676942046855733662145499383477188655980271270036991368680641183723797780517879161528976572133168927250308261405672009864364981504315659679408138101109741060419235511713933415536374845869297163995067817509247842170160295930949445129469790382244143033292231812577065351418002466091245376078914919852034525277435265104808877928483353884093711467324290998766954377311960542540073982737361282367447595561035758323057953144266337854500616522811344019728729963008631319358816276202219482120838471023427866831072749691738594327990135635018495684340320591861898890258939580764488286066584463625154130702836004932182490752157829839704069050554870530209617755856966707768187422934648581997533908754623921085080147965474722564734895191122071516646115906288532675709
	//at 821: lenght 820 repeats 0012180267965895249695493300852618757612667478684531059683313032886723507917174177831912302070645554202192448233861144945188794153471376370280146163215590742996345919610231425091352009744214372716199756394640682095006090133982947624847746650426309378806333739342265529841656516443361753958587088915956151035322777101096224116930572472594397076735688185140073081607795371498172959805115712545676004872107186358099878197320341047503045066991473812423873325213154689403166869671132764920828258221680876979293544457978075517661388550548112058465286236297198538367844092570036540803897685749086479902557856272838002436053593179049939098660170523751522533495736906211936662606577344701583434835566382460414129110840438489646772228989037758830694275274056029232643118148599269183922046285018270401948842874543239951278928136419
	//at 823: lenght 822 repeats 001215066828675577156743620899149453219927095990279465370595382746051032806804374240583232077764277035236938031591737545565006075334143377885783718104495747266099635479951397326852976913730255164034021871202916160388821385176184690157958687727825030376670716889428918590522478736330498177399756986634264884568651275820170109356014580801944106925880923450789793438639125151883353584447144592952612393681652490886998784933171324422843256379100850546780072904009720534629404617253948967193195625759416767922235722964763061968408262454434993924665856622114216281895504252733900364520048602673147023086269744835965978128797083839611178614823815309842041312272174969623329283110571081409477521263669501822600243013365735115431348724179829890643985419198055893074119076549210206561360874848116646415552855407047387606318347509113
	//at 857: lenght 856 repeats 0011668611435239206534422403733955659276546091015169194865810968494749124854142357059509918319719953325554259043173862310385064177362893815635939323220536756126021003500583430571761960326721120186697782963827304550758459743290548424737456242707117852975495915985997666277712952158693115519253208868144690781796966161026837806301050175029171528588098016336056009334889148191365227537922987164527421236872812135355892648774795799299883313885647607934655775962660443407234539089848308051341890315052508751458576429404900816802800466744457409568261376896149358226371061843640606767794632438739789964994165694282380396732788798133022170361726954492415402567094515752625437572928821470245040840140023337222870478413068844807467911318553092182030338389731621936989498249708284714119019836639439906651108518086347724620770128354725787631271878646441073512252042007
	//at 863: lenght 862 repeats 0011587485515643105446118192352259559675550405561993047508690614136732329084588644264194669756662804171494785631517960602549246813441483198146002317497103128621089223638470451911935110081112398609501738122827346465816917728852838933951332560834298957126303592120509849362688296639629200463499420625724217844727694090382387022016222479721900347624565469293163383545770567786790266512166859791425260718424101969872537659327925840092699884125144843568945538818076477404403244495944380069524913093858632676709154113557358053302433371958285052143684820393974507531865585168018539976825028968713789107763615295480880648899188876013904982618771726535341830822711471610660486674391657010428736964078794901506373117033603707995365005793742757821552723059096176129779837775202780996523754345307068366164542294322132097334878331402085747392815758980301274623406720741599073
	//at 887: lenght 886 repeats 0011273957158962795941375422773393461104847801578354002254791431792559188275084554678692220969560315670800450958286358511837655016910935738444193912063134160090191657271702367531003382187147688838782412626832018038331454340473506200676437429537767756482525366403607666290868094701240135287485907553551296505073280721533258173618940248027057497181510710259301014656144306651634723788049605411499436302142051860202931228861330326944757609921082299887260428410372040586245772266065388951521984216459977452085682074408117249154453213077790304396843291995490417136414881623449830890642615558060879368658399098083427282976324689966178128523111612175873731679819616685456595264937993235625704622322435174746335963923337091319052987598647125140924464487034949267192784667418263810597519729425028184892897406989853438556933483652762119503945885005636978579481397970687711386696730552423900789177
	//at 937: lenght 936 repeats 001067235859124866595517609391675560298826040554962646744930629669156883671291355389541088580576307363927427961579509071504802561366061899679829242262540021344717182497331910352187833511205976520811099252934898612593383137673425827107790821771611526147278548559231590181430096051227321237993596584845250800426894343649946638207043756670224119530416221985058697972251867662753468516542155816435432230522945570971184631803628601921024546424759871931696905016008537886872998932764140875133404482390608324439701173959445037353255069370330843116328708644610458911419423692636072572038420490928495197438633938100320170757737459978655282817502668089647812166488794023479188900747065101387406616862326574172892209178228388473852721451440768409818569903948772678762006403415154749199573105656350053361792956243329775880469583778014941302027748132337246531483457844183564567769477054429028815368196371398078975453575240128068303094983991462113127
	//at 941: lenght 940 repeats 0010626992561105207226354941551540913921360255047821466524973432518597236981934112646121147715196599362380446333687566418703506907545164718384697130712008501594048884165781083953241232731137088204038257173219978746014877789585547290116896918172157279489904357066950053134962805526036131774707757704569606801275239107332624867162592986184909670563230605738575982996811902231668437832093517534537725823591923485653560042507970244420828905419766206163655685441020191285866099893730074388947927736450584484590860786397449521785334750265674814027630180658873538788522848034006376195536663124335812964930924548352816153028692879914984059511158342189160467587672688629117959617428267800212539851222104144527098831030818278427205100956429330499468650371944739638682252922422954303931987247608926673751328374070138150903294367693942614240170031880977683315621679064824654622741764080765143464399574920297555791710945802337938363443145589798087141339
	//at 953: lenght 952 repeats 0010493179433368310598111227701993704092339979013641133263378803777544596012591815320041972717733473242392444910807974816369359916054564533053515215110178384050367261280167890870933892969569779643231899265477439664218258132214060860440713536201469045120671563483735571878279118572927597061909758656873032528856243441762854144805876180482686253934942287513116474291710388247639034627492130115424973767051416579223504721930745015739769150052465897166841552990556138509968520461699895068205666316894018887722980062959076600209863588667366211962224554039874081846799580272822665267576075550891920251836306400839454354669464847848898216159496327387198321091290661070304302203567681007345225603357817418677859391395592864637985309548793284365162644281217208814270724029380902413431269674711437565582371458551941238195173137460650577124868835257082896117523609653725078698845750262329485834207764952780692549842602308499475341028331584470094438614900314795383
	//at 971: lenght 970 repeats 0010298661174047373841400617919670442842430484037075180226570545829042224510813594232749742533470648815653964984552008238928939237899073120494335736354273944387229660144181256436663233779608650875386199794026776519052523171987641606591143151390319258496395468589083419155509783728115345005149330587023686920700308959835221421215242018537590113285272914521112255406797116374871266735324407826982492276004119464469618949536560247167868177136972193614830072090628218331616889804325437693099897013388259526261585993820803295571575695159629248197734294541709577754891864057672502574665293511843460350154479917610710607621009268795056642636457260556127703398558187435633367662203913491246138002059732234809474768280123583934088568486096807415036045314109165808444902162718846549948506694129763130792996910401647785787847579814624098867147270854788877445932028836251287332646755921730175077239958805355303810504634397528321318228630278063851699279093717816683831101956745623069
	//at 977: lenght 976 repeats 0010235414534288638689866939611054247697031729785056294779938587512794268167860798362333674513817809621289662231320368474923234390992835209825997952917093142272262026612077789150460593654042988741044012282497441146366427840327533265097236438075742067553735926305015353121801432958034800409416581371545547594677584442169907881269191402251791197543500511770726714431934493346980552712384851586489252814738996929375639713408393039918116683725690890481064483111566018423746161719549641760491299897645854657113613101330603889457523029682702149437052200614124872057318321392016376663254861821903787103377686796315250767656090071647901740020470829068577277379733879222108495394063459570112589559877175025588536335721596724667349027635619242579324462640736949846468781985670419651995905834186284544524053224155578300921187308085977482088024564994882292732855680655066530194472876151484135107471852610030706243602865916069600818833162743091095189355168884339815762538382804503582395087
	//at 983: lenght 982 repeats 0010172939979654120040691759918616480162767039674465920651068158697863682604272634791454730417090539165818921668362156663275686673448626653102746693794506612410986775178026449643947100712105798575788402848423194303153611393692777212614445574771108850457782299084435401831129196337741607324516785350966429298067141403865717192268565615462868769074262461851475076297049847405900305188199389623601220752797558494404883011190233977619532044760935910478128179043743641912512716174974567650050864699898270600203458799593082400813835198372329603255340793489318413021363173957273652085452695829094608341810783316378433367243133265513733468972533062054933875890132248219735503560528992878942014242115971515768056968463886063072227873855544252288911495422177009155645981688708036622583926754832146490335707019328585961342828077314343845371312309257375381485249237029501525940996948118006103763987792472024415055951169888097660223804679552390640895218718209562563580874872838250254323499491353
	//And the award for the Longest denominator goes to 983
	//End of Main (00:00:04.0779307) 3/4/2008 12:18:41 PM





    class Problem026
    {

		private static int maxDenominator = 1000;

		public static void Solve()
		{

			//    int maxLen = 0;
			//    int longestDenominator = 0;
			//    for (int d = 2; d < maxDenominator; d++) 
			//    {
			//        string repeat = RepeatingFractional.GetSequence(1,d);
			//        if(repeat.Length>maxLen)
			//        {
			//            longestDenominator = d;
			//            maxLen = repeat.Length;
			//            Console.WriteLine("at {0,3}: lenght {1,3} repeats {2}", d, repeat.Length, repeat );
			//        }
			//    }

			int maxLen = 0;
			int longestDenominator = 0;
			for (int d = 2; d < maxDenominator; d++)
			{
				int thisRepeats = LengthOfRepeatingSequence(d);
				if (thisRepeats > maxLen)
				{
					longestDenominator = d;
					maxLen = thisRepeats;
				}
			}
			Console.WriteLine("And the award for the Longest denominator goes to {0}", longestDenominator);

		}

		// Stolen from the message boards
		static int LengthOfRepeatingSequence(int num)
		{
			int rest = 1;
			int r0;
			for (int i = 0; i < num; i++)
			{
				rest = ( rest * 10 ) % num;
			}
			r0 = rest;
			int len = 0;
			do
			{
				rest = (rest * 10) % num;
				len++;
			} while (rest != r0);
			Console.WriteLine(" num={0,4} len={1,4}", num, len);

			return len;
		}


    	private static string Repeat(char chr, int times)
		{
			StringBuilder sb = new StringBuilder();
			for (int i = 1; i <= times; i++)
				sb.Append(chr);
			return sb.ToString();
		}

		private static string GetRepeatingElement(string unitFraction)
		{
			string repeatingElement = "";
			int len = unitFraction.Length;
			bool found = false;
			for ( int startPos = 0; startPos < len && !found; startPos++ )
			{
				for ( int lenRepeat = 1; lenRepeat <= ( len - startPos - 1 ) / 2 && !found; lenRepeat++ )
				{
					repeatingElement = unitFraction.Substring( startPos, lenRepeat );
					bool isRepeating = true;
					for ( int checkPos = startPos; checkPos < len - lenRepeat; checkPos += lenRepeat )
					{
						if ( repeatingElement != unitFraction.Substring( checkPos, lenRepeat ) )
						{
							isRepeating = false;
							break;
						}
					}
					found = isRepeating;
				}
			}
			return repeatingElement;
		}
    }
}
